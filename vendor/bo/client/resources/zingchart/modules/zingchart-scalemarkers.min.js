/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.14
*/
ZC.WK.push("scalemarkers");var A0N={$i:function(e){this.b(e);var i=this;i.C5=.95,i.L=0,i.AF=null,i.M=null,i.F9=null,i.A65=!1,i.BA="bottom",i.A9=0,i.BU=0,i.MM="normal",i.O6="normal",i.KE=[5,5],i.A0C=[0,0],i.YS=""},parse:function(){this.b();var e,i=this;i.assign_a([["type","AF"],["value-range","A65","b"],["offset-start","A9","i"],["offset-end","BU","i"],["placement","BA"],["pair-scale","YS"],["label-placement","MM"],["label-alignment","O6"],["range","F9"]]),null===ZC._n_(i.o.alpha)&&(i.o.alpha="area"===i.AF?.25:.95),null!==ZC._n_(e=i.o["label-tolerance"])&&("object"==typeof e&&e.length?(i.KE[0]=ZC._i_(e[0]||"5"),i.KE[1]=ZC._i_(e[1]||"5")):i.KE[0]=i.KE[1]=ZC._i_(e||"5")),i.assign_a([["alpha","C5","f",0,1]]),null===ZC._n_(e=i.o.label)&&null===ZC._n_(i.o.text)||(i.M=new ZC.DP(i),i.A.A.A.B6.load(i.M.o,["("+i.A.AF+").SCALE.marker.label"]),null!==ZC._n_(i.o.text)&&i.M.append({text:i.o.text}),i.M.append(e),i.M.parse(),i.A0C=[i.M.BK,i.M.BJ])},paint:function(){var e,i,M,l,A,a,o,n=this;if(n.F9)if(-1===n.A.BF.indexOf("scale-r")){if(n.AO){var t,F,s,p,B=n.A,C=n.A.A.P.AU,r=B.A.K+"-scales-"+("top"===n.BA?"f":"b")+"l-0-c";n.Z=n.C7=ZC.AM(B.G.usc()?B.G.K+"-main-c":r),e=ZC.Q.ED(n.Z,B.G.AD),A=[];var c,Z=0,h=0;n.BK>-1&&n.BK<1&&(n.BK=Math.ceil(n.BK*B.AC)),n.BJ>-1&&n.BJ<1&&(n.BJ=Math.ceil(n.BJ*B.AC)),n.M&&(n.M.Z=B.G.usc()?B.G.mc():ZC.AM(B.A.K+"-scales-ml-0-c"),n.M.K=n.A.A.K+"-"+n.A.BF.replace(/\-/g,"_")+"-marker_"+n.L,n.M.GM=n.A.K+"-marker-label "+n.A.A.K+"-scale-marker-label zc-scale-marker-label");var K=n.A.A,f=function(e,i){var M;return-1!==(i+"").indexOf("%")?(M=ZC._f_(i.replace("%","")),M="k"===e.AF?ZC._i_(M*(e.DN-e.D4)/100):M*(e.GV-e.FS)/100):M=i,n.A65||"v"===e.AF?e.AR(M):e.IE(M)};if("poly"===n.AF){var E,Y,L,d;for(K=n.A.A,"k"===B.AF?(E=B,Y=""===n.YS?K.BW("v")[0]:K.BM(n.YS)||K.BW("v")[0]):"v"===B.AF&&(Y=B,E=""===n.YS?K.BW("k")[0]:K.BM(n.YS)||K.BW("k")[0]),a=0,o=n.F9.length;a<o;a++)L=f(E,n.F9[a][0]),d=Y.AR(n.F9[a][1]),A.push([L,d]),Z+=L,h+=d;if(Z/=A.length,h/=A.length,A.length>=3){if(A[0].join("/")!==A[A.length-1].join("/")&&A.push([A[0][0],A[0][1]]),B.A.AJ["3d"])for(B.A.O4(),i=0,M=A.length;i<M;i++)l=new ZC.CD(B.A,A[i][0]-ZC.AL.E1,A[i][1]-ZC.AL.E2,ZC.AL.FD),A[i][0]=l.EB[0],A[i][1]=l.EB[1];(c=new ZC.DR(n.A)).K=B.K+"-marker-"+n.L,c.Z=c.C7=B.G.usc()?B.G.mc():ZC.AM(r),c.copy(n),c.B1=0,c.AU=0,c.EU=0,c.G3=0,c.D=A,c.parse(),c.paint()}}else if("line"===n.AF){if(-1!==B.BF.indexOf("scale-x")?1===n.F9.length?t=F=f(B,n.F9[0]):2===n.F9.length&&(t=f(B,n.F9[0]),F=f(B,n.F9[1])):-1!==B.BF.indexOf("scale-y")&&(1===n.F9.length?t=F=f(B,n.F9[0]):2===n.F9.length&&(t=f(B,n.F9[0]),F=f(B,n.F9[1]))),-1!==B.BF.indexOf("scale-x")&&B.CL||-1!==B.BF.indexOf("scale-y")&&!B.CL){if(A.push([B.iX+n.A9,t],[B.iX+B.I-n.BU,F]),n.o&&n.o.tooltip){K.o.labels=K.o.labels||[];for(var g=B.BF.replace(/\-/g,"")+"marker"+this.L,x=0;x<K.o.labels.length;x++)K.o.labels[x].id&&K.o.labels[x].id===g&&K.o.labels.splice(x,1);K.o.labels.push({id:g,cls:"zcScaleMarkerLabel",x:B.iX,y:t-n.B1,width:B.I,height:2*n.B1,alpha:0,tooltip:n.o.tooltip})}n.M&&("opposite"===n.MM?n.M.iX=B.iX+B.I-n.M.I-n.BU:n.M.iX=B.iX+n.A9,"opposite"===n.MM?n.M.iY=F-(B.AW?0:n.M.F):n.M.iY=t-(B.AW?0:n.M.F))}else{if(A.push([t,B.iY+B.F-n.A9],[F,B.iY+n.BU]),n.o&&n.o.tooltip){K.o.labels=K.o.labels||[];for(g=B.BF.replace(/\-/g,"")+"marker"+this.L,x=0;x<K.o.labels.length;x++)K.o.labels[x].id&&K.o.labels[x].id===g&&K.o.labels.splice(x,1);K.o.labels.push({id:g,cls:"zcScaleMarkerLabel",x:t-n.B1,y:B.iY,width:2*n.B1,height:B.F,alpha:0,tooltip:n.o.tooltip})}n.M&&("opposite"===n.MM?n.M.iX=F-(B.AW?n.M.I:0):n.M.iX=t-(B.AW?n.M.I:0),"opposite"===n.MM?n.M.iY=B.iY+n.M.I-n.M.F+n.BU:n.M.iY=B.iY+B.F-n.M.F-n.A9)}if(B.A.AJ["3d"])for(B.A.O4(),i=0,M=A.length;i<M;i++)l=new ZC.CD(B.A,A[i][0]-ZC.AL.E1,A[i][1]-ZC.AL.E2,ZC.AL.FD),A[i][0]=l.EB[0],A[i][1]=l.EB[1];2===A.length&&(ZC.CN.setup(e,n),ZC.CN.paint(e,n,A))}else if("area"===n.AF&&(-1!==B.BF.indexOf("scale-x")?2===n.F9.length?(t=s=f(B,n.F9[0]),F=p=f(B,n.F9[1])):4===n.F9.length&&(t=f(B,n.F9[0]),F=f(B,n.F9[1]),s=f(B,n.F9[2]),p=f(B,n.F9[3])):-1!==B.BF.indexOf("scale-y")&&(2===n.F9.length?(t=s=B.AR(n.F9[0]),F=p=B.AR(n.F9[1])):4===n.F9.length&&(t=B.AR(n.F9[0]),F=B.AR(n.F9[1]),s=B.AR(n.F9[2]),p=B.AR(n.F9[3]))),F=t===F?F+1:F,p=s===p?p+1:p,-1!==B.BF.indexOf("scale-x")&&B.CL||-1!==B.BF.indexOf("scale-y")&&!B.CL?(A.push([B.iX+C,t],[B.iX+B.I-C,s],[B.iX+B.I-C,p],[B.iX+C,F],[B.iX+C,t]),n.M&&("opposite"===n.MM?n.M.iX=B.iX+B.I-n.M.I-n.BU:n.M.iX=B.iX+n.A9,"opposite"===n.MM?n.M.iY=F-(B.AW?0:n.M.F):n.M.iY=t-(B.AW?0:n.M.F))):(A.push([t,B.iY+B.F-C],[s,B.iY+C],[p,B.iY+C],[F,B.iY+B.F-C],[t,B.iY+B.F-C]),n.M&&("opposite"===n.MM?n.M.iX=F-(B.AW?n.M.I:0):n.M.iX=t-(B.AW?n.M.I:0),"opposite"===n.MM?n.M.iY=B.iY+n.M.I-n.M.F+n.BU:n.M.iY=B.iY+B.F-n.M.F-n.A9)),A.length>=4)){if(B.A.AJ["3d"])for(B.A.O4(),i=0,M=A.length;i<M;i++)l=new ZC.CD(B.A,A[i][0]-ZC.AL.E1,A[i][1]-ZC.AL.E2,ZC.AL.FD),A[i][0]=l.EB[0],A[i][1]=l.EB[1];(c=new ZC.DR(n.A)).K=B.K+"-marker-"+n.L,c.Z=c.C7=B.G.usc()?B.G.mc():ZC.AM(r),c.copy(n),c.B1=0,c.AU=0,c.EU=0,c.G3=0,c.D=A,c.parse(),c.BK=n.BK,c.BJ=n.BJ,c.paint()}var _=!0,I=B.A.P;2===A.length&&(-1!==B.BF.indexOf("scale-x")&&B.CL||-1!==B.BF.indexOf("scale-y")&&!B.CL?ZC.DQ(A[0][1],I.iY-n.KE[1],I.iY+I.F+n.KE[1])&&ZC.DQ(A[1][1],I.iY-n.KE[1],I.iY+I.F+n.KE[1])||(_=!1):ZC.DQ(A[0][0],I.iX-n.KE[0],I.iX+I.I+n.KE[0])&&ZC.DQ(A[1][0],I.iX-n.KE[0],I.iX+I.I+n.KE[0])||(_=!1));var X=n.O6;if(n.M&&_&&("poly"===n.AF?(n.M.iX=ZC._i_(Z-n.M.I/2),n.M.iY=ZC._i_(h-n.M.F/2)):("auto"===n.O6&&(X=-1!==B.BF.indexOf("scale-x")&&!B.CL||-1!==B.BF.indexOf("scale-y")&&B.CL?t<B.iX+B.I/2?"normal":"opposite":t>B.iY+B.F/2?"normal":"opposite"),n.M.BK=n.M.BJ=0,(-1!==B.BF.indexOf("scale-x")&&!B.CL||-1!==B.BF.indexOf("scale-y")&&B.CL)&&null===ZC._n_(n.M.o.angle)&&(n.M.AA=270),-1!==B.BF.indexOf("scale-x")&&!B.CL||-1!==B.BF.indexOf("scale-y")&&B.CL?(n.M.AA%180==90&&(n.M.BK-=(B.AW?-1:1)*(n.M.I/2-n.M.F/2),n.M.BJ-=n.M.I/2-n.M.F/2,"opposite"===n.MM&&(n.M.BJ=-n.M.I/2+n.M.F/2),"opposite"===X&&(n.M.BK-=n.M.F)),n.M.AA%180==0&&("opposite"===n.MM&&(n.M.BJ=-n.M.I+n.M.F),"opposite"===X&&(n.M.BK-=n.M.I))):(n.M.AA%180==90&&(n.M.BK-=n.M.I/2-n.M.F/2,n.M.BJ-=(B.AW?-1:1)*(n.M.I/2-n.M.F/2),"opposite"===n.MM&&(n.M.BK=n.M.I/2-n.M.F/2),"opposite"===X&&(n.M.BJ+=n.M.I)),n.M.AA%180==0&&"opposite"===X&&(n.M.BJ+=n.M.F)),n.M.BK+=n.A0C[0]+n.BK,n.M.BJ+=n.A0C[1]+n.BJ),B.A.AJ["3d"]&&(l=new ZC.CD(B.A,n.M.iX-ZC.AL.E1,n.M.iY-ZC.AL.E2,ZC.AL.FD),n.M.iX=l.EB[0],n.M.iY=l.EB[1]),ZC.DQ(n.M.iX+n.M.BK+(n.M.AA%180==0?n.M.I/2:n.M.F/2),n.A.A.P.iX-n.KE[0],n.A.A.P.iX+n.A.A.P.I+n.KE[0])&&ZC.DQ(n.M.iY+n.M.BJ+(n.M.AA%180==0?n.M.F/2:n.M.I/2),n.A.A.P.iY-n.KE[1],n.A.A.P.iY+n.A.A.P.F+n.KE[1])&&(n.M.paint(),n.M.EO(),!n.M.KC&&"normal"===zingchart.OBJECTMODE&&(B.E["marker_text_"+n.L]=n.M.AN,ZC.AM(K.A.K+"-map"))))){var b=ZC.AP.O8(K.G.K,K.K,n.M);ZC.AM(K.A.K+"-map").innerHTML=ZC.AM(K.A.K+"-map").innerHTML+b}}}else n.A.paintMarker(n)}};ZC.A0N=ZC.DR.CC(A0N);