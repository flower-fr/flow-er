/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.14
*/
var WX={$i:function(e,i){this.b(e);var l=this;l.BE=e,l.IK=!1,l.Z=null,l.A79="",l.KU=1,l.H4=1,l.AF="scroll-"+(i||"y")},parse:function(){var e,i=this;i.K=i.BE.K+"-legend-"+i.AF;var l=i.BE.A.G.B6,n="("+i.BE.A.AF+")";i.B2=new ZC.HS(i.BE),l.load(i.B2.o,[n+".legend.scroll.bar",i.AF+".bar"]),null!==ZC._n_(e=i.o.bar)&&i.B2.append(e),i.B2.parse(),i.B3=new ZC.HS(i.BE),l.load(i.B3.o,[n+".legend.scroll.handle",i.AF+".handle"]),null!==ZC._n_(e=i.o.handle)&&i.B3.append(e),i.B3.parse()},paint:function(){var e,i=this;if(!i.IK){i.Z=ZC.AM(i.BE.A.K+"-legend-scroll-c");var l=ZC.AM(i.G.K+"-top");"scroll-y"===i.AF?(i.B2.iX=i.BE.iX+i.BE.I-i.B2.I-1,i.B2.iY=i.BE.EJ,i.B2.F=i.BE.F-(i.BE.KM?i.BE.KM.F:0)-(i.BE.EJ-i.BE.iY),e=Math.ceil(i.BE.B8.length/i.H4-i.BE.EI/i.H4)+1,i.B3.F=i.B2.F/e,i.B3.iY=i.B2.iY,0!==i.BE.D6.min&&(i.B3.iY+=i.BE.D6.min/i.H4*i.B3.F),ZC.AM(i.K+"-legend-handle")?(ZC.A5("#"+i.K+"-legend-handle").css("left",i.B2.iX+"px").css("top",i.B3.iY+"px").css("height",i.B3.F-0*i.B3.AU+"px"),ZC.A5("#"+i.K+"-legend-bar").css("left",i.B2.iX+"px").css("top",i.B2.iY+"px"),ZC.A5("#"+i.BE.K+"-frame").css("left",i.BE.iX+"px").css("top",i.BE.EJ+"px"),i.paint_()):(i.AAF=ZC.Q.I4({cls:"zc-abs zc-scroll zc-scroll-y-bar "+i.BE.K+"-scroll-y-legend-bar",id:i.K+"-legend-bar",wh:i.B2.I+"/"+i.B2.F,tl:i.B2.iY+"/"+i.B2.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZG=ZC.Q.I4({cls:"zc-abs zc-scroll zc-scroll-y-handle "+i.BE.K+"-scroll-y-legend-handle",id:i.K+"-legend-handle",wh:i.B2.I-0*i.B3.AU+"/"+(i.B3.F-0*i.B3.AU),tl:i.B3.iY+"/"+i.B2.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZG.style.cursor="pointer",i.paint_())):"scroll-x"===i.AF&&(i.B2.iX=i.BE.iX,i.B2.iY=i.BE.iY+i.BE.F-i.B2.F-1,i.B2.I=i.BE.I,e=Math.ceil(i.BE.B8.length/i.KU-i.BE.EI/i.KU)+1,i.B3.I=i.B2.I/e,i.B3.iX=i.B2.iX,0!==i.BE.D6.min&&(i.B3.iX+=i.BE.D6.min/i.KU*i.B3.I),ZC.AM(i.K+"-legend-handle")?(ZC.A5("#"+i.K+"-legend-handle").css("left",i.B3.iX+"px").css("top",i.B2.iY+"px").css("width",i.B3.I-0*i.B3.AU+"px"),ZC.A5("#"+i.K+"-legend-bar").css("left",i.B2.iX+"px").css("top",i.B2.iY+"px"),ZC.A5("#"+i.BE.K+"-frame").css("left",i.BE.iX+"px").css("top",i.BE.EJ+"px"),i.paint_()):(i.AAE=ZC.Q.I4({cls:"zc-abs zc-scroll zc-scroll-x-bar "+i.BE.K+"-scroll-x-legend-bar",id:i.K+"-legend-bar",wh:i.B2.I+"/"+i.B2.F,tl:i.B2.iY+"/"+i.B2.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZF=ZC.Q.I4({cls:"zc-abs zc-scroll zc-scroll-x-handle "+i.BE.K+"-scroll-x-legend-handle",id:i.K+"-legend-handle",wh:i.B3.I-0*i.B3.AU+"/"+(i.B2.F-0*i.B3.AU),tl:i.B2.iY+"/"+i.B3.iX,background:"#fff",opacity:0,zidx:1,p:l}),i.ZF.style.cursor="pointer",i.paint_())),ZC.move||i.bind()}},paint_:function(){var e,i,l=this;"scroll-y"===l.AF?((e=new ZC.HS(l)).K=l.BE.K+"-scroll-y-legend-bar",e.copy(l.B2),e.Z=l.Z,e.iX=l.B2.iX,e.iY=l.B2.iY,e.I=l.B2.I,e.F=l.B2.F,e.paint(),(i=new ZC.HS(l)).K=l.BE.K+"-scroll-y-legend-handle",i.copy(l.B3),i.Z=l.Z,i.iX=l.B2.iX,i.iY=l.B3.iY,i.I=l.B3.I,i.F=l.B3.F,i.paint()):"scroll-x"===l.AF&&((e=new ZC.HS(l)).K=l.BE.K+"-scroll-x-legend-bar",e.copy(l.B2),e.Z=l.Z,e.iX=l.B2.iX,e.iY=l.B2.iY,e.I=l.B2.I,e.F=l.B2.F,e.paint(),(i=new ZC.HS(l)).K=l.BE.K+"-scroll-x-legend-handle",i.copy(l.B3),i.Z=l.Z,i.iX=l.B3.iX,i.iY=l.B2.iY,i.I=l.B3.I,i.F=l.B2.F,i.paint())},update:function(e){var i,l,n,o,a,t,r=this,d=r.BE;if("scroll-y"===r.AF){if(e<r.B3.iY&&!1,e===r.B3.iY)return;r.B3.iY=e,ZC.A5("#"+r.K+"-legend-handle").css("top",e+"px"),i=r.B3.iY-r.B2.iY,o=Math.ceil(d.B8.length/r.H4-d.EI/r.H4)+1,l=r.B2.F/o,t=r.H4}else if("scroll-x"===r.AF){if(e>r.B3.iX&&!1,e===r.B3.iX)return;r.B3.iX=e,ZC.A5("#"+r.K+"-legend-handle").css("left",e+"px"),i=r.B3.iX-r.B2.iX,o=Math.ceil(d.B8.length/r.KU-d.EI/r.KU)+1,l=r.B2.I/o,t=r.KU}n=Math.round(i/l),a=d.B8.length-d.EI,d.B8.length%t&&(a+=t-d.B8.length%t),d.D6.min=Math.min(n*t,a),d.D6.max=d.D6.min+d.EI,d.WF(),d.clear(!1),d.parse(),d.paint(),r.paint_()},unbind:function(){var e=this;ZC.A5("."+e.BE.K+"-"+e.AF+"-legend-handle").unbind("mousedown touchstart",e.RH),ZC.A5("."+e.BE.K+"-"+e.AF+"-legend-bar").unbind("click",e.RJ)},bind:function(){var e=this,i=e.G.K,l=0,n=0;e.RH=function(o){if(o.preventDefault(),!(o.button>1)){for(var a=o.target;a&&"BODY"!==a.tagName.toUpperCase();){if(-1!==ZC.Q.TB(a).indexOf("zc-"+e.AF+"-handle"))break;a=a.parentNode}if((ZC.mobile||!(o.which>1))&&a){var t=ZC.Q.MJ(o),r=ZC.A5("#"+i+"-top").offset();if("scroll-y"===e.AF){var d=t[1]-r.top;n=d-e.B3.iY}else if("scroll-x"===e.AF){var A=t[0]-r.left;l=A-e.B3.iX}return ZC.A5(document.body).bind("mousemove touchmove",e.RI),ZC.A5(document.body).bind("mouseup touchend",e.MA),e.IK=!0,!1}}},e.RI=function(o){if(e.IK){var a=ZC.Q.MJ(o),t=ZC.A5("#"+i+"-top").offset();if("scroll-y"===e.AF){var r=a[1]-t.top;r-n<e.B2.iY&&(r=e.B2.iY+n),r-n+e.B3.F>e.B2.iY+e.B2.F&&(r=e.B2.iY+e.B2.F+n-e.B3.F),e.update(r-n)}else if("scroll-x"===e.AF){var d=a[0]-t.left;d-l<e.B2.iX&&(d=e.B2.iX+l),d-l+e.B3.I>e.B2.iX+e.B2.I&&(d=e.B2.iX+e.B2.I+l-e.B3.I),e.update(d-l)}}return!1},e.MA=function(){return e.G.KP=e.A79.split(","),e.IK&&(ZC.A5(document.body).unbind("mousemove touchmove",e.RI),ZC.A5(document.body).unbind("mouseup touchend",e.MA),e.IK=!1,e.bind()),!1},e.A3U=function(i){(i.detail?-120*i.detail:i.wheelDelta)/120>0?e.update(ZC.BQ(e.B2.iY,e.B3.iY-e.B3.F)):e.update(ZC.CY(e.B2.iY+e.B2.F-e.B3.F,e.B3.iY+e.B3.F))},e.RJ=function(l){e.IK=!0;var n=ZC.Q.MJ(l),o=ZC.A5("#"+i+"-top").offset();"scroll-y"===e.AF?n[1]-o.top>e.B3.iY?e.update(ZC.CY(e.B2.iY+e.B2.F-e.B3.F,e.B3.iY+e.B3.F)):e.update(ZC.BQ(e.B2.iY,e.B3.iY-e.B3.F)):"scroll-x"===e.AF&&(n[0]-o.left>e.B3.iX?e.update(ZC.CY(e.B2.iX+e.B2.I-e.B3.I,e.B3.iX+e.B3.I)):e.update(ZC.BQ(e.B2.iX,e.B3.iX-e.B3.I))),e.IK=!1},ZC.A5("."+e.BE.K+"-"+e.AF+"-legend-handle").bind("mousedown touchstart",e.RH),ZC.A5("."+e.BE.K+"-"+e.AF+"-legend-bar").bind("click",e.RJ)}};ZC.WX=ZC.CZ.CC(WX);var V5={$i:function(e){this.b(e);var i=this;i.OG="legend",i.B8=null,i.Q5=null,i.N4="x1",i.I1="hide",i.R3="",i.PU="",i.UU=!1,i.V2=!1,i.TQ="none",i.UI="header",i.EI=9999,i.D3=null,i.BR=null,i.ZD=null,i.A2=null,i.NN=null,i.FP=null,i.KM=null,i.QF=0,i.MI=0,i.YM=!0,i.EJ=0,i.GP=0,i.sAlign="",i.K0="",i.D6={enabled:!1,min:-1,max:-1,page:-1,pages:-1},i.M5=!1,i.NC=!1,i.ND=-1,i.PT=!1,i.A4X=1,i.WW=0,i.LG=!1,i.XP=!1,i.YT=!1,i.XR=[]},highlightItem:function(e){var i,l=this,n=!1,o=ZC.move,a=l.LG;-1!==e&&(a=l.LG||l.A.B0.A3[e].LG),l.o.item&&null!==ZC._n_(i=l.o.item["highlight-item"])&&(n=ZC._b_(i),null===ZC._n_(l.o["highlight-legend"])&&null===l.A.B0.A3[e].o["highlight-legend"]&&(a=n)),(n||a)&&(n&&(l.E["highlight-item"]=e),a&&(l.E["highlight-legend"]=ZC._i_(e)),l.scrollTo(ZC._i_(e)),l.WF(),l.clear(!0,!1),l.YM=!0,l.parse(),l.fixPlacement(!0),l.paint(),ZC.move=o)},scrollTo:function(e){var i,l,n=this,o=!1;if(n.D3)return e>=0&&(e<n.D6.min||e>=n.D6.max)&&(o=!0,"scroll"===n.TQ?(e%(l="scroll-y"===n.D3.AF?n.D3.H4:n.D3.KU)&&(e-=e%l),n.D6.min=e,n.D6.max=e+n.EI,n.D6.max>n.B8.length&&(n.D6.min=n.B8.length-n.EI,n.B8.length%l&&(n.D6.min=n.D6.min+(l-n.B8.length%l)),n.D6.max=n.B8.length)):"page"===n.TQ&&(i=Math.floor(e/n.EI),n.D6.min=i*n.EI,n.D6.max=n.D6.min+n.EI,n.D6.page=i+1)),o},parse:function(){var e,i,l,n,o=this;if(o.E["force-margins"]=!0,o.QF=0,o.MI=0,null!==ZC._n_(e=o.A.A.E["graph-"+o.A.K+"-legend-info"])&&(null!==ZC._n_(e.x)&&(o.o.x=e.x-o.A.iX),null!==ZC._n_(e.y)&&(o.o.y=e.y-o.A.iY)),ZC.move)o.FP&&o.FP.parse(),o.KM&&o.KM.parse();else{n=o.A.G.B6;var a="("+o.A.AF+")";o.b(),o.assign_a([["collapse","M5","b"],["minimize","UU","b"],["draggable","V2","b"],["shared","PT","b"],["overflow","TQ"],["max-items","EI","i"],["group","A4X","i"],["drag-handler","UI"],["highlight-plot","WW","b"],["highlight-legend","LG","b"],["align","sAlign"],["vertical-align","K0"]]),o.M5&&!o.UU&&(o.M5=!1),zingchart.DEV.MEDIARULES&&(o.E["forced-align-position"]||(o.alignPosition({align:o.sAlign,"vertical-align":o.K0,layout:o.N4}),o.E["forced-align-position"]=!0)),o.WW&&null===ZC._n_(o.o["highlight-legend"])&&(o.LG=o.WW),o.BR=new ZC.DP(o),n.load(o.BR.o,a+".legend.item"),o.o.item&&null===ZC._n_(o.o.item.visible)&&(o.o.item.visible=!0),o.BR.append(o.o.item),o.BR.parse(),o.ZD=new ZC.DP(o),n.load(o.ZD.o,a+".legend.item-off"),o.o["item-off"]&&null===ZC._n_(o.o["item-off"].visible)&&(o.o["item-off"].visible=!0),o.ZD.append(o.o["item-off"]),o.ZD.parse(),o.A2=new ZC.DR(o),n.load(o.A2.o,a+".legend.marker"),o.o.marker&&null===ZC._n_(o.o.marker.visible)&&(o.o.marker.visible=!0),o.A2.append(o.o.marker),o.A2.E.type="default",o.A2.E["show-marker"]=!0,o.A2.E["show-line"]=!1,null!==ZC._n_(e=o.A2.o.type)&&(o.A2.E.type=e),null!==ZC._n_(e=o.A2.o["show-line"])&&(o.A2.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BR.o["marker-style"])&&(o.A2.E.type=e),null!==ZC._n_(e=o.BR.o["show-line"])&&(o.A2.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BR.o["show-marker"])&&(o.A2.o.visible=ZC._b_(e)),o.A2.parse(),o.NN=new ZC.DR(o),n.load(o.NN.o,a+".legend.marker-off"),o.o["marker-off"]&&(o.o["marker-off"].visible=!0),o.NN.append(o.o["marker-off"]),o.NN.E.type="default",o.NN.E["show-marker"]=!0,o.NN.E["show-line"]=!1,null!==ZC._n_(e=o.NN.o.type)&&(o.NN.E.type=e),null!==ZC._n_(e=o.NN.o["show-line"])&&(o.NN.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BR.o["marker-style"])&&(o.NN.E.type=e),null!==ZC._n_(e=o.BR.o["show-line"])&&(o.NN.E["show-line"]=ZC._b_(e)),null!==ZC._n_(e=o.BR.o["show-marker"])&&(o.NN.o.visible=ZC._b_(e)),o.NN.parse(),(null!==ZC._n_(e=o.o.header)||o.V2||o.UU)&&(o.FP=new ZC.DP(o),o.FP.OG="legendheader",o.FP.GM="zc-legend-item "+o.K+"-header",o.FP.K=o.K+"-header",n.load(o.FP.o,a+".legend.header"),o.FP.o.text=o.FP.o.text||" ",o.FP.append(e),o.FP.parse(),o.FP.AO||(o.FP=null)),null!==ZC._n_(e=o.o.footer)&&(o.KM=new ZC.DP(o),o.KM.OG="legendfooter",o.KM.GM="zc-legend-item "+o.K+"-footer",o.KM.K=o.K+"-footer",n.load(o.KM.o,a+".legend.footer"),o.KM.append(e),o.KM.parse(),o.KM.AO||(o.KM=null));var t=o.A.B0.A3;null!==ZC._n_(e=o.o.layout)?o.N4=e:25*t.length>o.A.F&&(o.N4="x"+Math.ceil(25*t.length/o.A.F)),null!==ZC._n_(e=o.o["toggle-action"])&&(o.I1=e),o.R3=o.PU=o.I1,null!==ZC._n_(o.o.item)&&null!==ZC._n_(e=o.o.item["toggle-action"])&&(o.R3=e),null!==ZC._n_(o.o.marker)&&null!==ZC._n_(e=o.o.marker["toggle-action"])&&(o.PU=e);var r=function(e){if(t[i]&&t[i].FM(0)){var l=ZC.AP.O7(o.BR.o,t[i].o);e=t[i].FM(0).JZ(e,l)}return e},d=[];o.B8=[];var A=0;for(i=0,l=t.length;i<l;i++){var s=o.A.B0.M9[i];if(t[s].o["skip-paint"]||null!==ZC._n_(t[s].o["show-in-legend"])&&!ZC._b_(t[s].o["show-in-legend"]))t[s].bShowInLegend=!1;else if(!t[s].o["legend-item"]||null===ZC._n_(t[s].o["legend-item"].visible)||ZC._b_(t[s].o["legend-item"].visible)){var g=new ZC.DP(o);g.copy(o.BR),g.append(t[s].o["legend-item"]),null===ZC._n_(g.o.text)&&null!==ZC._n_(e=t[s].A63)&&(g.o.text=e),null===ZC._n_(g.o.text)&&null!==ZC._n_(e=t[s].AN)&&(g.o.text=e),g.AN=null===ZC._n_(g.o.text)?"Series "+(s+1):g.o.text,g.E.order=s,g.E.index=s,null!==ZC._n_(t[s].o["legend-item"])&&null!==ZC._n_(e=t[s].o["legend-item"].order)&&(g.E.order=ZC._i_(e)),d.push([A,s,g.E.order]),A++,-1!==g.AN.indexOf("%")&&(g.JZ=r),g.parse(),o.B8.push(g)}else t[s].bShowInLegend=!1}for(d.sort(function(e,i){return e[2]-i[2]}),i=0;i<d.length;i++)d[i][2]=i,t[d[i][1]].o["legend-item"]=t[d[i][1]].o["legend-item"]||{},t[d[i][1]].o["legend-item"].order=d[i][2],o.B8[d[i][0]].E.order=d[i][2];(e=o.A.E["legend-info"])&&(o.NC=e.collapsed)}if(o.B8&&o.A2){"page"===o.TQ?((e=o.A.E["legend-info"])?(o.D6.min=e.min,o.D6.max=e.max,o.D6.page=e.page):(o.D6.min=0,o.D6.max=o.EI,o.D6.page=1),o.D6.pages=Math.ceil(o.B8.length/o.EI),o.D6.page>o.D6.pages&&(o.D6.page=o.D6.pages,o.D6.min=(o.D6.page-1)*o.EI,o.D6.max=o.D6.page*o.EI-1),o.D6.page=ZC.CY(o.D6.page,o.D6.pages)):"scroll"===o.TQ?(e=o.A.E["legend-info"])?(o.D6.min=e.min,o.D6.max=e.max,o.D6.page=e.page):(o.D6.min=0,o.D6.max=o.EI,o.D6.page=1):(o.D6.min=0,o.D6.max="hidden"===o.TQ?o.EI:o.B8.length,o.D6.page=1),o.WF(!1),o.B8.sort(function(e,i){return e.E.order-i.E.order}),o.o["reverse-series"]&&o.B8.reverse();var C=.9*o.A.I;null!==ZC._n_(o.o.width)&&(C=o.I);var Z=0,c=0,p=-ZC.MAX,B=-ZC.MAX,u=o.A2.E["show-line"]?3:2,m=0,h=1,f=1;if("float"===o.N4){for(i=0,l=o.B8.length;i<l;i++)if(m+=o.B8[i].AO?1:0,!(i<o.D6.min||i>=o.D6.max||o.NC)&&o.B8[i].AO){var _=o.B8[i].I+o.B8[i].DZ+o.B8[i].E8+u*o.B8[i].DH;B=ZC.BQ(B,o.B8[i].F+o.B8[i].E9+o.B8[i].DU),Z+_>C?(p=ZC.BQ(p,Z),c+=B,Z=_,B=ZC.BQ(B,o.B8[i].F+o.B8[i].E9+o.B8[i].DU)):Z+=_}p=ZC.BQ(p,Z),B!==-ZC.MAX&&(c+=B),p!==-ZC.MAX&&(Z=p)}else{var E=0;for(i=0,l=o.B8.length;i<l;i++)m+=o.B8[i].AO?1:0,i<o.D6.min||i>=o.D6.max||o.NC||(E+=o.B8[i].AO?1:0);var F=ZC.AQ.A2G(o.N4,E);for(h=F[0],f=F[1],i=0,l=o.B8.length;i<l;i++)(i<o.D6.min||i>=o.D6.max||o.NC)&&("scroll"!==o.TQ||m<=o.EI)||o.B8[i].AO&&(p=ZC.BQ(p,o.B8[i].I+o.B8[i].DZ+o.B8[i].E8+u*o.B8[i].DH),B=ZC.BQ(B,o.B8[i].F+o.B8[i].E9+o.B8[i].DU),1===f&&(c+=o.B8[i].F+o.B8[i].E9+o.B8[i].DU));Z=f*p,c=h*B}if("page"===o.TQ&&m>o.EI&&(o.D6.enabled=!0),"scroll"===o.TQ&&m>o.EI&&(o.D3||(!h||h>f?(o.D3=new ZC.WX(o,"y"),n.load(o.D3.o,".scroll-y")):(o.D3=new ZC.WX(o,"x"),n.load(o.D3.o,".scroll-x")),o.D3.append(o.o.scroll),o.D3.KU=h,o.D3.H4=f,o.D3.parse()),o.NC||("scroll-y"===o.D3.AF?Z+=o.D3.B2.I:c+=o.D3.B2.F)),o.FP){var v=o.FP.I;o.V2&&"icon"===o.UI?(v+=15,o.UU&&(v+=25)):o.UU&&(v+=15),Z=ZC.BQ(Z,v)}o.KM&&(Z=ZC.BQ(Z,o.KM.I));var D=!1,I=!1;if(null===ZC._n_(o.o.width)&&(o.o.width=Z,D=!0),null===ZC._n_(o.o.height)&&(o.o.height=c,I=!0),o.iX=-1,o.iY=-1,!ZC.move&&o.FP&&null!==ZC._n_(e=o.A.A.E["legend"+o.A.L+"-xy-ratio"])){o.locate();var K=o.I+o.ER+o.FO,b=o.F+o.FJ+o.FX,X=o.PT?o.A.A:o.A;o.iX=X.I*e[0],o.iX=ZC.BQ(o.iX,1.1),o.o.x=o.iX=ZC.CY(o.iX,X.I-K-2),o.iY=(X.F-o.FP.F)*e[1],o.iY=ZC.BQ(o.iY,1.1),o.o.y=o.iY=ZC.CY(o.iY,X.F-b-o.FP.F-2)}if(o.locate(),null!==ZC._n_(o.o.position)&&"undefined"!=typeof o.E["position-info"]?(o.E["position-info"][0]>.5&&(o.QF+=o.ER+o.FO),o.E["position-info"][1]>.5?o.MI+=o.FJ+o.FX:(o.FP&&(o.MI-=o.FP.F),o.KM&&(o.MI-=o.KM.F),o.D6&&o.D6.enabled&&(o.MI-=20))):((0===o.A.iX||o.iX+o.I/2>o.A.iX+o.A.I/2)&&(o.QF+=o.ER+o.FO),(0===o.A.iY||o.iY+o.F/2>o.A.iY+o.A.F/2)&&(o.MI+=o.FJ+o.FX)),!ZC.move&&(e=o.A.A.E["graph-"+o.A.K+"-legend-info"])&&(e.x&&(o.iX=e.x),e.y&&(o.iY=e.y)),o.GP=o.F,o.EJ=o.iY,o.FP&&(o.F+=o.FP.F,o.EJ+=o.FP.F,o.MI+=o.FP.F),o.KM&&(o.F+=o.KM.F,o.MI+=o.KM.F),o.D6.enabled&&!o.NC){var P=new ZC.DP(o);P.AN=" ",P.append(o.o["page-status"]),null!==ZC._n_(P.o.text)&&""!==P.o.text||(P.o.text="#"),P.parse(),o.F+=P.F+4,o.MI+=P.F+4}D&&(o.o.width=null),I&&(o.o.height=null),o.NC||(o.I+=o.ER+o.FO,o.F+=o.FJ+o.FX),o.E["default-width"]&&(o.I=o.E["default-width"])}},alignPosition:function(e){var i=this;if(null!==ZC._n_(e)){var l=i.A.G.B6.B6.graph.legend,n=e.align||l.align,o=e["vertical-align"]||l["vertical-align"],a=e.layout||l.layout;(n||o)&&("center"===n?(null===ZC._n_(i.o.layout)&&(a=i.o.layout="horizontal"),i.o.position="50% "):i.o.position="left"===n?"0% ":"100% ",i.o.position+="middle"===o?"50%":"bottom"===o?"100%":"0%","horizontal"!==a&&"middle"!==o||(i.o["adjust-layout"]=!0))}},WF:function(e){var i=this;void 0===e&&(e=!0),i.A.E["legend-info"]={collapsed:i.NC,min:i.D6.min,max:i.D6.max,page:i.D6.page},e&&(i.A.A.E["graph-"+i.A.K+"-legend-info"]={x:i.iX,y:i.iY})},clear:function(e,i){null===ZC._n_(e)&&(e=!1),null===ZC._n_(i)&&(i=!1);var l=this,n=l.A.K+"-legend-",o=null;ZC.A5("."+n+"item",o).remove(),ZC.A5("."+n+"header",o).remove(),ZC.A5("."+n+"footer",o).remove(),ZC.A5("#"+n+"page-status",o).remove(),e&&!i||(ZC.move||l.unbind(),ZC.A5("."+n+"page-area",o).remove(),ZC.A5("."+n+"header-area",o).remove(),ZC.A5("."+n+"item-area",o).remove(),ZC.A5("."+n+"marker-area",o).remove()),ZC.move?ZC.Q.IV(ZC.AM(n+"c"),l.A.G.AD,l.A.iX,l.A.iY,l.A.I,l.A.F):ZC.Q.IV(ZC.AM(n+"c"),l.A.G.AD,l.iX-2*l.AU-2*l.JW,l.iY-2*l.AU-2*l.JW,l.I+4*l.AU+4*l.JW,l.F+4*l.AU+4*l.JW),l.D3&&ZC.Q.IV(ZC.AM(n+"scroll-c"),l.A.G.AD,l.A.iX,l.A.iY,l.A.I,l.A.F)},unbind:function(){var e=this;ZC.A5("#"+e.K+"-frame").die(ZC.Q.C1("mouseover"),e.zc_legend_mouseover).die(ZC.Q.C1("mouseout"),e.zc_legend_mouseout),ZC.A5("#"+e.K+"-move-area").die(ZC.Q.C1("mousedown"),e.Z7),ZC.A5("#"+e.K+"-minimize-area").die(ZC.Q.C1("click"),e.Y3),ZC.A5("."+e.K+"-page-area").die(ZC.Q.C1("click"),e.Z0),e.D3&&e.D3.unbind(),e.BR&&e.BR.o.reorder&&ZC.A5("."+e.A.K+"-legend-item-area").die("mousedown",e.W8)},fixPlacement:function(e){var i=this;if(i.YM&&null===ZC._n_(i.o.y)||e){if(!i.o.position&&e||(i.iX-=i.QF),i.iX<i.DZ&&(i.DZ<i.E8||-2===i.E8)&&(i.iX=i.DZ),!i.o.position&&e||(i.iY-=i.MI,i.EJ-=i.MI),i.iY<i.E9&&(i.E9<i.DU||-2===i.DU)){var l=i.EJ-i.iY;i.iY=i.E9,i.EJ=i.E9+l}i.YM=!1}},EO:function(e){var i=this;i.FP&&i.FP.EO(e),i.KM&&i.KM.EO(e);for(var l=0;l<i.XR.length;l++)i.XR[l].EO(e)},paint:function(e){var i,l,n,o,a,t,r,d,A,s,g,C,Z,c,p,B,u=this;if(u.AO&&(u.E["default-width"]||(u.E["default-width"]=u.I),u.B8)){var m=ZC.AM(u.G.K+"-top"),h=u.A.B0.A3,f=0;for(t=0,r=u.B8.length;t<r;t++)t<u.D6.min||t>=u.D6.max||u.NC||(f+=u.B8[t].AO?1:0);u.A4V=!0,u.b(),u.FP&&(u.FP.iX=u.iX,u.FP.iY=u.iY,u.FP.I=u.I,u.FP.Z=u.FP.C7=u.Z,u.FP.paint(),ZC.move||"canvas"!==u.A.A.AD&&u.FP.EO(),u.V2&&"icon"===u.UI&&((n=new ZC.DR(u)).Z=u.Z,n.B9="#000",n.B1=1,n.DV="line",n.append(u.o.icon),o=u.FP.iX+u.FP.I-10,a=u.FP.iY+u.FP.F/2,n.D=[[o-7,a],[o+7,a],null,[o,a-7],[o,a+7],null,[o-6,a-1],[o-6,a+1],null,[o-5,a-2],[o-5,a+2],null,[o+6,a-1],[o+6,a+1],null,[o+5,a-2],[o+5,a+2],null,[o-1,a-6],[o+1,a-6],null,[o-2,a-5],[o+2,a-5],null,[o-1,a+6],[o+1,a+6],null,[o-2,a+5],[o+2,a+5]],n.parse(),n.paint()),u.UU&&((l=new ZC.DR(u)).Z=u.Z,l.B9=ZC.AP.AAC(u.A0,"#fff","#000"),l.B1=1,l.append(u.o.icon),l.DV="line",o=u.FP.iX+u.FP.I-10-(u.V2&&"icon"===u.UI?20:0),a=u.FP.iY+u.FP.F/2,l.D=[[o-7,a-2],[o+2,a-2],[o+2,a+7],[o-7,a+7],[o-7,a-2],[o+2,a-2],null,[o-4,a-5],[o+5,a-5],[o+5,a+4],[o-4,a+4],[o-4,a-5],[o+5,a-5]],l.parse(),l.paint())),u.KM&&(u.KM.iX=u.iX,u.KM.iY=u.iY+u.F-u.KM.F,u.KM.I=u.I,u.KM.Z=u.KM.C7=u.Z,u.KM.paint(),ZC.move||"canvas"!==u.A.A.AD&&u.KM.EO());var _=ZC.AQ.A2G(u.N4,f),E=_[0],F=_[1],v=u.I/F,D=u.GP/E,I=0,K=0;u.Q5=[];var b,X=0,P=-ZC.MAX,Y=u.A2.E["show-line"]?3:2,M=null,y=function(i){var l=i;if(null===ZC._n_(e)&&(e=0),h[b]&&h[b].S[e]){var n=ZC.AP.O7(u.BR.o,h[b].o);i=h[b].FM(e).JZ(i,n)}return u.XP=u.XP||i!==l,i},x=0;for(u.XP=!1,t=0,r=u.B8.length;t<r;t++)if(!(t-x<u.D6.min||t-x>=u.D6.max||u.NC)){var w=new ZC.DP(u);w.copy(u.B8[t]),u.E["highlight-legend"]===t&&(w.append({bold:!0}),null!==ZC._n_(u.o.item)&&w.append(u.o.item["highlight-state"])),b=w.E.index;var Q=new ZC.DP(u);Q.OG="legenditem",Q.K=u.K+"-item_"+b,Q.GM="zc-legend-item "+u.K+"-item",Q.copy(w),u.A.E["plot"+b+".visible"]&&"off"!==h[b].o["legend-status"]||Q.append(u.ZD.o),Q.append(h[b].o["legend-item"]),Q.JZ=y,Q.parse(),Q.AO?("float"===u.N4?(P=ZC.BQ(P,w.F),null===ZC._n_(M)?(w.iX=u.iX+u.ER+w.DZ+Y*w.DH,w.iY=u.EJ+u.FJ+w.E9,X=u.EJ):(w.iX=M.iX+M.I+M.E8+w.DZ+Y*w.DH,ZC._i_(w.iX+w.I+w.E8)>ZC._i_(u.iX+u.I)&&(w.iX=u.iX+u.ER+w.DZ+Y*w.DH,X+=P+w.E9+w.DU,P=-ZC.MAX),w.iY=X+u.FJ+w.E9)):(w.iX=u.iX+(0===K?u.ER:0)+K*v+w.DZ+Y*w.DH,w.iY=u.EJ+u.FJ+I*D+w.E9,++K===F&&(K=0,I++)),M=w,Q.iX=w.iX=ZC._i_(w.iX),Q.iY=w.iY=ZC._i_(w.iY),Q.Z=Q.C7=u.Z,Q.iX+=u.BK,Q.iY+=u.BJ,b===u.ND&&(u.E["calculate-y"]&&(u.E["calculate-y"]=!1,u.E["dragged-offset-y"]=u.E["dragged-y"]-Q.iY),Q.iY=u.E["dragged-y"]-u.E["dragged-offset-y"]-Q.DH/4),Q.paint(),"undefined"!=typeof u.E.showhide&&null!==ZC._n_(u.E.showhide)||ZC.move||("canvas"!==u.A.A.AD?Q.EO():u.XR.push(Q))):x++;var N=u.A2.E.type;null!==ZC._n_(i=h[b].o["legend-marker"])&&null!==ZC._n_(i.type)&&(N=i.type);var G,z=!1;switch("match"!==N&&"inherit"!==N||(z=!0,N=null!==ZC._n_(i=h[b].A2.o.type)?i:"default"),-1!==ZC.AV(["default","square"],N)?G=new ZC.HS(u):(G=new ZC.DR(u)).DV=N,G.OG="legendmarker",G.append(u.A2.o),u.A.E["plot"+b+".visible"]&&"off"!==h[b].o["legend-status"]||G.append(u.NN.o),G.NB=h[b].NB,h[b].AF){case"pie":case"pie3d":case"nestedpie":case"vbar":case"vbar3d":case"hbar":case"hbar3d":case"vbullet":case"hbullet":case"area":case"area3d":case"gauge":case"vfunnel":case"hfunnel":case"venn":G.A0=h[b].A0,G.AE=h[b].AE,G.GS=h[b].GS,G.HO=h[b].HO;break;case"scatter":case"hscatter":case"bubble":case"hbubble":G.A0="-1"!==h[b].A2.A0?h[b].A2.A0:h[b].A0,G.AE="-1"!==h[b].A2.AE?h[b].A2.AE:h[b].AE,G.GS=""!==h[b].A2.GS?h[b].A2.GS:h[b].GS,G.HO=""!==h[b].A2.HO?h[b].A2.HO:h[b].HO;break;default:G.A0=h[b].B9,G.AE=h[b].B9}"line"!==G.DV&&"area"!==G.DV||(G.B9=G.A0,G.B1=2),z&&G.append(h[b].A2.o),G.o["line-style"]="solid",G.o.type=G.DV,G.append(h[b].o["legend-marker"]),z&&(G.o.type=G.DV),G.E["show-marker"]=!0,G.E["show-line"]=!1,null!==ZC._n_(i=G.o["show-line"])&&(G.E["show-line"]=ZC._b_(i)),null!==ZC._n_(i=Q.o["show-line"])&&(G.E["show-line"]=ZC._b_(i)),null!==ZC._n_(i=Q.o["show-marker"])&&(G.o.visible=ZC._b_(i)),-1!==ZC.AV(["default","square"],N)&&null!==ZC._n_(i=G.o.size)&&(null===ZC._n_(G.o.width)&&(G.o.width=2*ZC._i_(i)),null===ZC._n_(G.o.height)&&(G.o.height=2*ZC._i_(i))),G.K=u.K+"-marker_"+b,G.Z=G.C7=u.Z,G.iX=Q.iX-Y*Q.DH+(Y-1)*Q.DH/2+Q.DH/2,G.iY=Q.iY+(Q.F-Q.DH)/2+Q.DH/2,G.parse(),u.E["highlight-legend"]===t&&(G.append({size:G.AI+1,width:G.I+2,height:G.F+2}),h[b]&&h[b].S[e]&&h[b].S[e].GK&&G.append({A0:h[b].S[e].GK.A0,AE:h[b].S[e].GK.AE}),null!==ZC._n_(u.o.marker)&&G.append(u.o.marker["highlight-state"]),G.parse()),"line"===G.DV?(G.o.points=[[G.iX-1.75*G.AI,G.iY],[G.iX+1.75*G.AI,G.iY]],G.parse()):"area"===G.DV&&(G.o.points=[[G.iX-1.75*G.AI,G.iY+G.AI],[G.iX+1.75*G.AI,G.iY+G.AI],[G.iX+1*G.AI,G.iY-G.AI/2],[G.iX,G.iY],[G.iX-1.25*G.AI,G.iY-G.AI],[G.iX-1.75*G.AI,G.iY+G.AI]],G.parse());var k=G.iX+G.BK,R=G.iY+G.BJ;if(-1!==ZC.AV(["default","square"],N)&&(G.iX-=G.I/2,G.iY-=G.F/2),u.A.E["plot"+b+".visible"]&&"off"!==h[b].o["legend-status"]||(G.C5/=4),Q.AO&&G.E["show-line"]){var U=ZC.Q.ED(u.Z,u.A.G.AD),O=new ZC.CZ(u);O.Z=u.Z,O.copy(h[b]),O.o["line-style"]=u.A2.GE,O.append(h[b].o),O.append(u.A2.o),O.append(h[b].o["legend-item"]),O.append(h[b].o["legend-marker"]),O.o["top-state"]=null,O.o["bottom-state"]=null,O.parse(),u.A.E["plot"+b+".visible"]||(O.C5=.25);var J=[],V=G.AO?2:1;d="box"===G.DV?G.I/2:G.AI,J.push([k-V*d-(O.B1>1?1:0),R-(O.B1>1?.5:0)]),J.push([k+V*d,R-(O.B1>1?.5:0)]),O.D0=!0,ZC.CN.paint(U,O,J)}b===u.ND&&(G.iY=u.E["dragged-y"]-u.E["dragged-offset-y"]/2),G.AO&&Q.AO&&G.paint(),u.Q5.push(G);var H=!0;if(null!==ZC._n_(i=u.BR.o.toggle)&&(H=ZC._b_(i)),u.E["item.toggle"]=H,Q.AO||G.AO){if(-1===ZC.AV(u.A.G.KP,"skip_interactivity")){var T=G.BK+("box"===G.DV?G.iX+G.I/2:G.iX),S=G.BJ+("box"===G.DV?G.iY+G.F/2:G.iY);d="box"===G.DV?G.I/2:G.AI,A="box"===G.DV?G.F/2:G.AI;var W=(G.E["show-line"]?2:1)*d;ZC.AM(Q.K+"-area")||(G.AO&&"disabled"!==u.PU&&"disabled"!==G.o["toggle-action"]&&(ZC.AM(G.K+"-area")||ZC.Q.I4({cls:u.K+"-marker-area zc-legend-marker-area zc-abs",id:G.K+"-area",wh:2*W+"/"+2*A,tl:S-A+"/"+(T-W),opacity:0,background:"#fff",cursor:G.IL,p:m,zidx:1})),Q.AO&&"disabled"!==u.R3&&"disabled"!==Q.o["toggle-action"]&&(ZC.AM(Q.K+"-area")||ZC.Q.I4({cls:u.K+"-item-area zc-legend-item-area zc-abs",id:Q.K+"-area",wh:Q.I+"/"+Q.F,tl:Q.iY+Q.BJ+"/"+(Q.iX+Q.BK),opacity:0,background:"#fff",cursor:Q.IL,p:m,zidx:1})))}}else h[t].bShowInLegend=!1}if(u.D3&&!u.NC&&(u.D3.paint(),ZC.AM(u.K+"-scroll-c").style.display="block"),u.D3&&u.NC&&(ZC.AM(u.K+"-scroll-c").style.display="none"),u.D6.enabled&&!u.NC){var L=new ZC.DP(u);L.Z=L.C7=u.Z,L.K=u.K+"-page-status",L.AN=ZC.HD["legend-pagination"].replace("%page%",u.D6.page).replace("%pages%",u.D6.pages),L.append(u.o["page-status"]),L.parse(),u.I<L.I+48&&(L.AN=u.D6.page+"/"+u.D6.pages,L.parse()),L.iX=u.iX+u.I/2-L.I/2,L.iY=u.iY+u.F-(u.KM?u.KM.F:0)-L.F-4,L.AO&&L.paint();var q=u.A.G.B6,$="("+u.A.AF+")",j={"background-color":"#999"},ee={"background-color":"#f90"};q.load(j,$+".legend.page-off"),q.load(ee,$+".legend.page-on"),(g=new ZC.DR(u)).Z=g.C7=u.Z,g.K=u.K+"-page-prev",g.A0=g.AE=u.D6.page>1?ee["background-color"]:j["background-color"],g.append(u.D6.page>1?u.o["page-on"]:u.o["page-off"]),s=u.iX+u.I/2-L.I/2-6,C=L.iY+L.F/2,g.parse(),g.AI=ZC.BQ(g.AI,8),B=ZC._i_(.75*g.AI),g.D=[[s,C-B],[s,C+B],[s-g.AI,C],[s,C-B]],g.parse(),g.AO&&g.paint(),(c=new ZC.DR(u)).Z=c.C7=u.Z,c.K=u.K+"-page-next",c.A0=c.AE=u.D6.page<u.D6.pages?ee["background-color"]:j["background-color"],c.append(u.D6.page<u.D6.pages?u.o["page-on"]:u.o["page-off"]),Z=u.iX+u.I/2+L.I/2+6,p=L.iY+L.F/2,c.parse(),c.AI=ZC.BQ(c.AI,8),B=ZC._i_(.75*c.AI),c.D=[[Z,p-B],[Z,p+B],[Z+c.AI,p],[Z,p-B]],c.parse(),c.AO&&c.paint()}if(!ZC.move){var ie,le,ne=u.F,oe=u.iY;u.FP&&(ne-=u.FP.F,oe+=u.FP.F),ZC.AM(u.K+"-frame")?ZC.A5("#"+u.K+"-frame").css("top",oe+"px").css("left",u.iX+"px").css("width",u.I+"px").css("height",ne+"px"):ZC.Q.I4({cls:"zc-abs zc-legend-frame "+u.G.K+"-legend-frame "+u.K+"-frame",id:u.K+"-frame",wh:u.I+"/"+ne,tl:oe+"/"+u.iX,opacity:0,background:"#fff",p:m,zidx:0}),u.D6.enabled&&!u.NC&&(u.D6.page>1&&ZC.Q.I4({cls:u.K+"-page-area zc-legend-page-area zc-abs",id:u.K+"-page-prev-area",wh:g.AI+"/"+2*g.AI,tl:ZC._i_(C+g.BJ-g.AI)+"/"+ZC._i_(s+g.BK-g.AI),opacity:0,p:m,zidx:1}),u.D6.page<u.D6.pages&&ZC.Q.I4({cls:u.K+"-page-area zc-legend-page-area zc-abs",id:u.K+"-page-next-area",wh:c.AI+"/"+2*c.AI,tl:ZC._i_(p+g.BJ-c.AI)+"/"+ZC._i_(Z+c.BK),opacity:0,p:m,zidx:1})),u.FP&&u.V2&&("icon"===u.UI?(le=ZC._i_(u.FP.iY+ZC.MAPTX+n.BJ)+"/"+ZC._i_(u.FP.iX+u.FP.I-20+ZC.MAPTX+n.BK),ie="20/"+u.FP.F):(le=ZC._i_(u.FP.iY+ZC.MAPTX)+"/"+ZC._i_(u.FP.iX+ZC.MAPTX),ie=u.FP.I-(u.UU?23:0)+"/"+u.FP.F),ZC.Q.I4({cls:u.K+"-header-area zc-legend-header-area zc-abs",id:u.K+"-move-area",wh:ie,tl:le,opacity:0,p:m,zidx:1})),u.UU&&(u.V2&&"icon"===u.UI?(le=ZC._i_(u.FP.iY+ZC.MAPTX+l.BJ)+"/"+ZC._i_(u.FP.iX+u.FP.I-41+ZC.MAPTX+l.BK),ie="20/"+u.FP.F):(le=ZC._i_(u.FP.iY+ZC.MAPTX+l.BJ)+"/"+ZC._i_(u.FP.iX+u.FP.I-22+ZC.MAPTX+l.BK),ie="20/"+u.FP.F),ZC.Q.I4({cls:u.K+"-header-area zc-legend-header-area zc-abs",id:u.K+"-minimize-area",wh:ie,tl:le,opacity:0,p:m,zidx:1})),u.OV=0,u.A03=0,u.zc_legend_mouseover=function(){u.YT=!0},u.zc_legend_mouseout=function(){u.YT=!1},u.Z7=function(e){if(e.preventDefault(),u.G.hideCM(),ZC.move=!0,ZC.mobile||!(e.which>1)){u.A.A.E["graph-"+u.A.K+"-legend-info"]=null;var i=ZC.Q.MJ(e),l=ZC.A5("#"+u.A.A.K+"-top").offset();u.OV=i[0]-l.left-u.FP.iX,u.A03=i[1]-l.top-u.FP.iY,u.oldcursor=document.body.style.cursor,document.body.style.cursor="move",ZC.A5(document.body).bind(ZC.Q.C1("mousemove"),u.Z8),ZC.A5(document.body).bind(ZC.Q.C1("mouseup"),u.A0W)}},u.Z8=function(e){var i=ZC.Q.MJ(e),l=ZC.A5("#"+u.A.A.K+"-top").offset(),n=i[0]-l.left-u.OV,o=i[1]-l.top-u.A03;if(u.PT?(n=ZC.BQ(n,u.G.iX+2),n=ZC.CY(n,u.G.iX+u.G.I-u.I-2),o=ZC.BQ(o,u.G.iY+2),o=ZC.CY(o,u.G.iY+u.G.F-u.F-4)):(n=ZC.BQ(n,u.A.iX+2),n=ZC.CY(n,u.A.iX+u.A.I-u.I-2),o=ZC.BQ(o,u.A.iY+2),o=ZC.CY(o,u.A.iY+u.A.F-u.F-4)),u.PT||(n-=u.A.iX,o-=u.A.iY),u.o.x=n,u.o.y=o,u.o.position=null,u.clear(!0),u.parse(),u.paint(),u.FP){var a=u.PT?u.A.A:u.A;u.A.A.E["legend"+u.A.L+"-xy-ratio"]=[n/a.I,o/(a.F-u.FP.F)]}},u.A0W=function(){ZC.move=!1,document.body.style.cursor=u.oldcursor,delete u.oldcursor,ZC.A5(document.body).unbind(ZC.Q.C1("mousemove"),u.Z8),ZC.A5(document.body).unbind(ZC.Q.C1("mouseup"),u.A0W),u.XR=[],u.clear(!1),u.parse(),u.paint(),u.WF()},u.Z0=function(e){u.E["default-width"]=null,-1!==(e.targetid||e.target.id).indexOf("-page-next-area")?(u.D6.min+=u.EI,u.D6.max+=u.EI,u.D6.page+=1):(u.D6.min-=u.EI,u.D6.max-=u.EI,u.D6.page-=1),(!(i=u.A.A.E["graph-"+u.A.K+"-legend-info"])||null===ZC._n_(i.x)&&null===ZC._n_(i.y))&&(u.iX=null,u.iY=null),u.WF(),u.A.KB()},u.Y3=function(e){var i=u.NC?"legendmaximize":"legendminimize";e&&(u.A.A.E["legend-toggling"]=1),zingchart.exec(u.A.G.K,i,{graphid:u.A.L}),e&&(u.A.A.E["legend-toggling"]=0),e&&(u.A.A.E["g"+u.A.L+"-legend-collapsed"]="legendminimize"===i)},u.MS=function(e){ZC.move=!0;var i=ZC.Q.MJ(e),l=ZC.A5("#"+u.A.A.K+"-top").offset(),n=i[0]-l.left,o=i[1]-l.top;u.E["dragged-x"]=n,u.E["dragged-y"]=o,u.WF(),u.clear(!1),u.parse(),u.paint()},u.W8=function(e){if(e.preventDefault(),u.G.hideCM(),u.IL=document.body.style.cursor,document.body.style.cursor="move",ZC.mobile||!(e.which>1)){var i=new RegExp("-legend-item_([0-9]+)-area","g").exec(e.target.id);i&&(u.E["dragged-offset-y"]=0,u.E["calculate-y"]=!0,u.E["dragged-x"]=0,u.E["dragged-y"]=0,u.ND=ZC._i_(i[1]),u.iDragPos=ZC.AV(u.A.B0.M9,u.ND),ZC.A5(document.body).bind(ZC.Q.C1("mousemove"),u.MS),ZC.A5(document.body).bind(ZC.Q.C1("mouseup"),u.XH))}},u.XH=function(){var e=u.ND,i=u.iDragPos;if(u.ND=-1,u.iDragPos=-1,u.E["calculate-y"]=!1,document.body.style.cursor=u.IL,ZC.move||(e=-1,i=-1),ZC.A5(document.body).unbind(ZC.Q.C1("mousemove"),u.MS),ZC.A5(document.body).unbind(ZC.Q.C1("mouseup"),u.XH),ZC.move&&-1!==e){for(var l=u.A.B0.A3,n=u.A.B0.M9,o=0,a=l.length;o<a;o++)l[o].o["legend-item"]=l[o].o["legend-item"]||{},null===ZC._n_(l[o].o["legend-item"].order)&&(l[o].o["legend-item"].order=ZC._i_(l[o].o["z-index"]||o+1));for(var t=l[e].o["legend-item"].order,r=-1,d=0,A=u.Q5.length;d<A;d++)u.E["dragged-y"]-u.E["dragged-offset-y"]/2>u.Q5[d].iY&&(r=d);for(l[e].o["legend-item"].order=-1===r?.5:l[n[r]].o["legend-item"].order+.5,d=0,A=u.Q5.length;d<A;d++)r>i?l[d].o["legend-item"].order<l[e].o["legend-item"].order&&l[d].o["legend-item"].order>t&&l[d].o["legend-item"].order--:l[d].o["legend-item"].order>l[e].o["legend-item"].order&&l[d].o["legend-item"].order<t&&l[d].o["legend-item"].order++;for(l[e].o["legend-item"].order=r>i?Math.floor(l[e].o["legend-item"].order):Math.ceil(l[e].o["legend-item"].order),d=0,A=u.Q5.length;d<A;d++)u.A.o.series[d]["z-index"]=l[d].o["legend-item"].order}u.A.B0.E["plot-sort"]=!0,ZC.move=!1,u.clear(!1),u.A.KB()},ZC.A5("#"+u.K+"-frame").live(ZC.Q.C1("mouseover"),u.zc_legend_mouseover).live(ZC.Q.C1("mouseout"),u.zc_legend_mouseout),ZC.A5("#"+u.K+"-move-area").live(ZC.Q.C1("mousedown"),u.Z7),ZC.A5("#"+u.K+"-minimize-area").live(ZC.Q.C1("click"),u.Y3),ZC.A5("."+u.K+"-page-area").live(ZC.Q.C1("click"),u.Z0),u.BR.o.reorder&&ZC.A5("."+u.A.K+"-legend-item-area").live("mousedown",u.W8)}u.E.showhide=null,1===u.A.A.E["legend-toggling"]||ZC.move||(u.M5&&null===ZC._n_(u.A.A.E["g"+u.A.L+"-legend-collapsed"])||u.A.A.E["g"+u.A.L+"-legend-collapsed"]&&!u.NC)&&(window.setTimeout(function(){u.Y3(!0)},0),u.A.A.E["g"+u.A.L+"-legend-collapsed"]=!0)}},gc:function(){ZC.AP.gc(this,["B8","D","Q5","Z","C7","o","J0","I8","KM","FP","BR","ZD","G","A","A2","NN","D6"])}};ZC.V5=ZC.DP.CC(V5),ZC.WK.push("legend"),ZC.JL.prototype.UT=function(){if(!zingchart.SKIP.LEGEND){var e,i=this;if(i.BE){if(i.BE.PT&&i.L!==i.A.AG.length-1&&!i.BE.o.force)return;i.BE.Z=i.BE.C7=i.G.usc()?i.G.mc("top"):ZC.AM(i.K+"-legend-c"),i.BE.paint(),-1===ZC.AV(i.G.KP,"skip_interactivity")&&(i.QV=function(e){var l,n;if(!ZC.move){i.A7&&i.A.A7&&i.A7.AO&&i.A.A7.onmouseover(e);var o=e.targetid||e.target.id,a=ZC._i_(o.replace(i.K,"").replace("-legend-item_","").replace("-legend-marker_","").replace("-area","").replace("-marker","")),t=i.B0.A3[a];if(t.FV&&(i.BE.WW||t.ID)&&t.S.length)for(l=0,n=t.S.length;l<n;l++)if(null!==t.S[l]&&t.S[l].IZ&&(t.FM(l).A15("highlight"),i.BE.PT))for(var r=0;r<i.A.AG.length;r++)if(i.A.AG[r].BE&&i.A.AG[r].BE.PT&&i.A.AG[r].B0.A3[t.L]){var d=i.A.AG[r].B0.A3[t.L];d.FM(l)&&d.FM(l).A15("highlight")}ZC.move=!0;var A=t.L;t.o["legend-item"]&&null!==ZC._n_(t.o["legend-item"].order)&&(A=ZC._i_(t.o["legend-item"].order)),i.BE.o["reverse-series"]&&(A=i.B0.A3.length-1-A),i.BE.highlightItem(A),ZC.move=!1;var s=i.B0.A3[a].V6(e);i.E["legend-action-index"]=a,ZC.AP.C0("legend_mouseover",i.A,s)}},i.PR=function(e){ZC.move||i.A7&&i.A.A7&&i.A7.AO&&i.A.A7.onmousemove(e)},i.RC=function(e){if(!ZC.move){if(i.A7&&i.A.A7&&i.A7.AO&&i.A.A7.onmouseout(e),i.LN(),i.BE.PT)for(var l=0;l<i.A.AG.length;l++)i.A.AG[l].BE&&i.A.AG[l].BE.PT&&i.A.AG[l].LN();ZC.move=!0,i.BE.highlightItem(-1),ZC.move=!1;var n=ZC._c_(i.E["legend-action-index"],0),o=i.B0.A3[n].V6(e);ZC.AP.C0("legend_mouseout",i.A,o)}},i.zc_legend_mousescroll=function(e){i.BE.D3&&"scroll-y"===i.BE.D3.AF&&(e.preventDefault(),i.BE.D3.A3U(e))},i.SR=function(l){if(i.E.legend_toggle_action=!0,!(ZC.move||(zingchart.SG(l),l.which>1))){var n,o,a,t=l.targetid||l.target.id,r=ZC._b_(i.BE.BR.o.reorder);ZC.mobile&&i.G.A7&&i.G.A7.hide();var d="item";-1!==t.indexOf("-legend-marker_")&&(d="marker"),i.LN(),l.preventDefault();var A=i.BE.I1;"item"===d?A=i.BE.R3:"marker"===d&&(A=i.BE.PU),i.A.KC&&"hide"===A&&(A="remove"),i.E["legend-last-trigger"]=d;var s=ZC._i_(t.replace(i.K+"-legend-item_","").replace(i.K+"-legend-marker_","").replace("-area",""));if(i.o.series&&i.o.series[s]){if(null!==ZC._n_(e=i.o.series[s]["legend-item"])){var g=e.url||"",C=e.target||"";""!==g&&i.V8(l,g,C)}i.o.series[s].visible=!0}var Z,c,p,B=i.B0.A3[s].V6(l);switch(B.visible=ZC._b_(i.E["plot"+s+".visible"]),B.toggleaction=A,ZC.AP.C0("legend_click",i.A,B),ZC.AP.C0("legend_"+d+"_click",i.A,B),A){default:break;case"hide":case"remove":if(l.shiftKey){var u=0;for(n=0,o=i.B0.A3.length;n<o;n++)if(n!==s&&(a=++u===o-1,i.QJ({"ignore-legend":r,KB:a,plotindex:n,"toggle-action":A}),i.BE.PT))for(Z=0,c=i.G.AG.length;Z<c;Z++)(p=i.G.AG[Z]).BE&&p.BE.PT&&p.BE.A4X===i.BE.A4X&&p.K!==i.K&&p.QJ({"ignore-legend":!0,KB:a,plotindex:n,"toggle-action":A})}else if(i.QJ({"ignore-legend":r,KB:1,plotindex:s,"toggle-action":A}),i.BE.PT)for(Z=0,c=i.G.AG.length;Z<c;Z++)(p=i.G.AG[Z]).BE&&p.BE.PT&&p.BE.A4X===i.BE.A4X&&p.K!==i.K&&p.QJ({"ignore-legend":!0,KB:1,plotindex:s,"toggle-action":A})}"hide"===A&&i.E.hooks&&(i.P0(),i.R2())}},ZC.A5("."+i.K+"-legend-item-area").live("mouseup touchstart",i.SR).live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.A5("."+i.K+"-legend-marker-area").live("mouseup touchstart",i.SR).live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.A5("#"+i.K+"-legend-frame").live("DOMMouseScroll",i.zc_legend_mousescroll).live("mousewheel",i.zc_legend_mousescroll),ZC.mobile||(ZC.A5("."+i.K+"-legend-item-area").live(ZC.Q.C1("mouseover"),i.QV).live(ZC.Q.C1("mouseout"),i.RC).live(ZC.Q.C1("mousemove"),i.PR),ZC.A5("."+i.K+"-legend-marker-area").live(ZC.Q.C1("mouseover"),i.QV).live(ZC.Q.C1("mouseout"),i.RC).live(ZC.Q.C1("mousemove"),i.PR)))}}};