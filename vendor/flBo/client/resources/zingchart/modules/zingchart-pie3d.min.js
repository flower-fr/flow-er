/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.14
*/
ZC.WK.push("pie3d"),ZC.A5D=ZC.A3V.CC({$i:function(C){this.b(C);var n=this;n.AF="pie3d",n.B0=new ZC.A89(n),n.CM=new ZC.SS,n.AJ["3d"]=!0,n.AJ["enable-animation"]=!1,n.AJ["x-angle-min"]=15,n.AJ["x-angle-max"]=75,n.AJ["y-angle-min"]=0,n.AJ["y-angle-max"]=0,n.AJ["z-angle-min"]=0,n.AJ["z-angle-max"]=0},clear:function(){this.b(),this.CM.clear()},paint:function(){var C=this;C.b(),C.SH(),C.flatten(),C.Q4(),C.FA.length&&(C.CM.clear(),C.KL(),C.SH()),C.UT(),-1===ZC.AV(C.G.KP,"skip_interactivity")&&C.S4()}}),ZC.A89=ZC.A59.CC({ACU:function(){return new ZC.XL(this)}}),ZC.XL=ZC.WA.CC({$i:function(C){this.b(C);this.AF="pie3d",this.JI=-1},parse:function(){this.b(),this.assign_a([["thickness","JI","ia"]])},U1:function(){return new ZC.A7N(this)}}),ZC.A7N=ZC.LM.CC({bCXY:!0,U:null,$i:function(C){this.b(C)},parse:function(){this.b()},AB3:function(){this.b();var C=this.C.E;C.update.npv=C.update["node-percent-value"]=this.JZ("%npv")},JZ:function(C,n,A,i){var e=this,t=e.A.MU();ZC._cp_(n,t),-1===C.indexOf("%npv")&&-1===C.indexOf("%node-percent-value")||null!==ZC._n_(t.decimals)&&-1!==t.decimals||(t.decimals=1);var a=0,Z="0";if(e.A.A.KO[e.L]>0&&(Z=""+(a=100*e.AB/e.A.A.KO[e.L])),e.A.A.A3.length>1&&e.A.L===e.A.A.A3.length-1){var r=0;if(null===ZC._n_(e.A.o.totals)){for(var o=0;o<e.A.A.A3.length-1;o++)if(e.A.A.A3[o].AO&&null!==ZC._n_(e.A.A.A3[o].S[e.L])){var E=0,s="0";e.A.A.KO[e.L]>0&&(s=""+(E=100*e.A.A.A3[o].S[e.L].AB/e.A.A.KO[e.L])),null!==ZC._n_(t.decimals)&&(s=E.toFixed(ZC.BQ(0,ZC._i_(t.decimals)))),r+=ZC._f_(s)}Z=""+(a=Math.max(0,100-r))}}null!==ZC._n_(t.decimals)&&(Z=a.toFixed(ZC.BQ(0,ZC._i_(t.decimals))));var l,u=ZC._f_(e.A.A.KO[e.L]||"0");return l=ZC.AP.G5(u,t,e.A),e.CV=[["%node-percent-value",Z],["%npv",Z],["%pie-total-value",l]],C=e.b(C,n,A,i)},V7:function(C){var n,A=this,i=(A.B4+A.BL)/2%360,e=0;null!==ZC._n_(n=C["offset-r"])&&(e=ZC._f_(ZC._p_(n))),e<1&&(e*=A.AI);var t=new ZC.CD(A.C,(A.CO+.5*(A.AI-A.CO)+A.DW+e)*ZC.EE(i),(A.CO+.5*(A.AI-A.CO)+A.DW+e)*ZC.EK(i),0).EB;return[t[0],t[1],{reference:A,center:!0}]},setup:function(){var C=this,n=C.C.BM(C.A.BW("k")[0]),A=C.L%n.H4,i=Math.floor(C.L/n.H4);C.iX=n.iX+A*n.GL+n.GL/2+n.BK,C.iY=n.iY+i*n.GG+n.GG/2+n.BJ,C.HZ||(C.copy(C.A),C.E7=C.A.E7,C.DF()&&C.parse(),C.HZ=!0)},ABF:function(C){var n={},A="out";return null!==ZC._n_(C.o.placement)&&(A=C.o.placement),n.color="out"===A?this.A0:this.C2,n},AC7:function(C){var n,A=this,i="out";null!==ZC._n_(n=C.o.placement)&&(i=n);var e,t,a,Z,r,o=C.I,E=C.F,s=(A.B4+A.BL)/2%360,l=s;if("out"===i){s=l=A.A.A.YC["n"+A.L][A.A.L];var u=function(n,i){i<0&&(i=360+i),i%=360;var e=ZC.AQ.BN(A.iX,A.iY,n+A.DW+C.DW+20,i),t=A.C.EM["x-angle"];t>45&&A.A.A.A3.length>10&&(A.C.EM["x-angle"]=45+(t-45)/3),r=new ZC.CD(A.C,e[0]-ZC.AL.E1,e[1]-ZC.AL.E2,0),A.C.EM["x-angle"]=t,e[0]=r.EB[0],e[1]=r.EB[1];var a=e[0]+C.BK-o/2,Z=e[1]+C.BJ-E/2;return i>=0&&i<=90||i>=270&&i<=360?a+=o/2+10:a-=o/2+10,[a,Z]},B=u(A.AI,l);e=B[0],t=B[1],A.U=C;var c={x:e,y:t,width:o,height:E},h=zingchart.DEV.SPREADTYPE;Z=!0;for(var p=0,f=0,_=-1,d=0,L=0;Z&&L<1024;){Z=!1;for(var K=0,v=A.A.A.TS.length;K<v;K++)a=A.A.A.TS[K],(ZC.AQ.VD(c,a,A.A.A.A3.length>10?-8:-2)||c.x+C.I>A.C.P.iX+A.C.P.I||c.x<A.C.P.iX||c.y+C.F>A.C.P.iY+A.C.P.F||c.y<A.C.P.iY)&&(Z=!0,0===h?(p+=.4,_*=-1):1===h&&(f+=1),B=u(A.AI+f,l+p*_),c.x=B[0],c.y=B[1],L++,++d>100&&(d=0,0===h?(p=0,f+=4):1===h&&(f=0,p+=1,_*=-1)))}e=c.x,t=c.y,s=l+p,a={text:A.A.AN,x:c.x,y:c.y,width:o,height:E,plotindex:A.A.L,nodeindex:A.L},A.A.A.TS.push(a)}else if("in"===i){var D=A.CO<30?.65:.5,O=ZC.AQ.BN(A.iX,A.iY,A.CO+D*(A.AI-A.CO)+A.DW+C.DW,s);r=new ZC.CD(A.C,O[0]-ZC.AL.E1,O[1]-ZC.AL.E2,0),O[0]=r.EB[0],O[1]=r.EB[1],e=O[0]+C.BK-o/2,t=O[1]+C.BJ-E/2}else"center"===i&&(e=(r=new ZC.CD(A.C,A.iX-ZC.AL.E1,A.iY-ZC.AL.E2,0)).EB[0]+C.BK-o/2,t=r.EB[1]+C.BJ-E/2);return Z&&(e=-9999,t=-9999,C.AO=!1),null!==ZC._n_(C.o.x)&&(e=C.iX),null!==ZC._n_(C.o.y)&&(t=C.iY),e>=-2&&(e=ZC._a_(e)),t>=-2&&(t=ZC._a_(t)),[ZC._i_(e),ZC._i_(t),s]},GZ:function(C,n){var A,i=this,e=i.b(C,n);if(C)return e;if(i.AO&&e.AO&&null!==ZC._n_(e.AN)&&""!==e.AN){var t="out";if(null!==ZC._n_(e.o.placement)&&(t=e.o.placement),"out"===t){var a=!0;if(null!==ZC._n_(A=e.o.connected)&&(a=ZC._b_(A)),a){var Z=new ZC.DR(i.A);Z.Z=Z.C7=i.A.CR("bl",0),Z.append(i.A.C3.o),Z.B9=i.A0,Z.DV="line",Z.D=[];var r=e.E.positioninfo,o=(i.B4+i.BL)/2%360,E=0;o>=0&&o<=180&&(E=i.E.thickness/2);var s=ZC.AQ.BN(i.iX,i.iY,i.AI+i.DW+e.DW,o);(s=new ZC.CD(i.C,s[0]-ZC.AL.E1,s[1]-ZC.AL.E2,E).EB)[0]+=i.BK,s[1]+=i.BJ,Z.D.push(s);var l=ZC.AQ.BN(i.iX,i.iY,i.AI+i.DW+e.DW+20,o);(l=new ZC.CD(i.C,l[0]-ZC.AL.E1,l[1]-ZC.AL.E2,E).EB)[0]+=i.BK,l[1]+=i.BJ,e.iX>=i.iX?Z.D.push([l[0],l[1],r[0],r[1]+e.F/2]):Z.D.push([l[0],l[1],r[0]+e.I+2,r[1]+e.F/2]),Z.parse(),Z.J7=function(C){return i.J7(C)},Z.DF()&&Z.parse(),Z.AO&&Z.paint()}}}},paint:function(){var C,n,A,i,e,t,a,Z,r,o=this,E=o.C.CM,s=o.C.BM(o.A.BW("k")[0]),l=o.C.EM["x-angle"],u=o.C.EM["y-angle"];o.setup();var B="pie-sel-"+o.A.L+"-"+o.L;if("undefined"!=typeof o.o.detached&&(o.C.E[B]=ZC._b_(o.o.detached)),!(o.AB<0)){var c=ZC.BQ(.7,ZC.EE(l));o.AI=ZC.CY(s.GG/c,s.GL)/2,null!==ZC._n_(o.A.o.size)?o.AI=o.A.AI:o.AI=s.JS*o.AI,o.CO<1&&(o.CO*=o.AI),o.CO=Math.max(0,o.CO),o.o.slice=o.CO,o.DW<1&&(o.DW*=o.AI),o.o["offset-r"]=o.DW;var h=o.A.JI;-1===h&&(h=o.AI/5),o.E.thickness=h;var p=o.iX-ZC.AL.E1,f=o.iY-ZC.AL.E2;o.B4=ZC._i_(o.B4),o.BL=ZC._i_(o.BL);var _=(o.B4+o.BL)/2;o.C.E[B]&&(o.DW+=ZC._i_(.15*o.AI)),o.DW>0&&(p+=o.DW*ZC.EE(_),f+=o.DW*ZC.EK(_));var d=o.O=o.A.IG(o,o);d.DG=o.K+"-3dfacet";var L=new ZC.CZ(o);if(L.copy(d),L.A0=ZC.AP.JO(ZC.AP.GD(L.A0)),L.AE=ZC.AP.JO(ZC.AP.GD(L.AE)),o.AB>=0||0===o.A.A.KO[o.L]){for(a=[],C=o.B4,a.push([p+o.CO*ZC.EE(C),f+o.CO*ZC.EK(C),0]),C=o.B4;C<=o.BL;C+=1)a.push([p+o.AI*ZC.EE(C),f+o.AI*ZC.EK(C),0]);for(C=o.BL,a.push([p+o.CO*ZC.EE(C),f+o.CO*ZC.EK(C),0]),C=o.BL;C>=o.B4;C-=1)a.push([p+o.CO*ZC.EE(C),f+o.CO*ZC.EK(C),0]);if((n=ZC.DK.DA(d,o.C,a)).K=o.K+"-facet1",E.add(n),A=null,o.B4%360>=0+u&&o.B4%360<180+u||o.BL%360>0+u){Z=o.B4,r=o.BL;var K=function(C,n,i){var e,t=[];for(e=C,t.push([p+o.AI*ZC.EE(e),f+o.AI*ZC.EK(e),0]),e=C;e<=n;e+=1)t.push([p+o.AI*ZC.EE(e),f+o.AI*ZC.EK(e),0]);for(e=n,t.push([p+o.AI*ZC.EE(e),f+o.AI*ZC.EK(e),h]),e=n;e>=C;e-=1)t.push([p+o.AI*ZC.EE(e),f+o.AI*ZC.EK(e),h]);(A=ZC.DK.DA(L,o.C,t)).MG=[.01,1,1,1],A.K=o.K+"-facet2"+i,E.add(A)};Z<180&&r>360?(K(Z=Z<0?Z+360:Z,180,1),K(360,r,2)):(Z=ZC.BQ(Z,r>360?365:5),(r=ZC.CY(r,r>360?535:175))>Z&&K(Z,r,1))}if(t=null,o.CO>0+u&&o.BL>180+u){for(a=[],C=o.B4,Z=o.B4,o.B4<180+u&&o.BL>180+u&&(C=180+u,Z=180+u),a.push([p+o.CO*ZC.EE(C),f+o.CO*ZC.EK(C),0]),C=Z;C<=o.BL;C+=1)a.push([p+o.CO*ZC.EE(C),f+o.CO*ZC.EK(C),0]);for(C=o.BL,a.push([p+o.CO*ZC.EE(C),f+o.CO*ZC.EK(C),h]),C=o.BL;C>=Z;C-=1)a.push([p+o.CO*ZC.EE(C),f+o.CO*ZC.EK(C),h]);(t=ZC.DK.DA(L,o.C,a)).K=o.K+"-facet3",E.add(t)}var v=function(C,n,A){return[[p+C*ZC.EE(A),f+C*ZC.EK(A),0],[p+C*ZC.EE(A),f+C*ZC.EK(A),h],[p+n*ZC.EE(A),f+n*ZC.EK(A),h],[p+n*ZC.EE(A),f+n*ZC.EK(A),0]]};(i=ZC.DK.DA(L,o.C,{points:v(o.CO,o.AI,o.B4),mathpoints:v(o.CO+1,o.AI+1,o.B4-1)})).K=o.K+"-facet4",E.add(i),(e=ZC.DK.DA(L,o.C,{points:v(o.CO,o.AI,o.BL),mathpoints:v(o.CO+1,o.AI+1,o.BL+1)})).K=o.K+"-facet5",E.add(e);var D=o.C.K+"-node-area "+o.C.K+"-plotset-plot-"+o.A.L+"-node-area zc-node-area",O=ZC.Q.FT("poly",o.A.EA)+'class="'+D+'" id="'+o.K,I=o.A.A.HE;I.push(O+'--top" '+o.a11y()+' data-z-sort="1" coords="'+n.FH()+'" />'),A&&I.push(O+'--outer" data-z-sort="1" coords="'+A.FH()+'" />'),(o.CO>0||o.DW>0)&&(t&&I.push(O+'--inner" data-z-sort="2" coords="'+t.FH()+'" />'),I.push(O+'--start" data-z-sort="2" coords="'+i.FH()+'" />',O+'--end" data-z-sort="2" coords="'+e.FH()+'" />'))}o.A.U&&o.GZ()}},X7:function(C,n){var A=this;if(A.b(C,n),"click"===n&&C.which<=1&&A.A.A7V){var i="pie-sel-"+A.A.L+"-"+A.L;A.C.E[i]="undefined"==typeof A.C.E[i]||!A.C.E[i],A.C.KB()}}});