/*
All of the code within the ZingChart software is developed and copyrighted by ZingChart, Inc., and may not be copied,
replicated, or used in any other software or application without prior permission from ZingChart. All usage must coincide with the
ZingChart End User License Agreement which can be requested by email at support@zingchart.com.

Build 2.9.14
*/
ZC.WK.push("refresh"),ZC.JL.prototype.A38=function(){var s,e,t=this,a=0;for(s=0,e=t.BO.length;s<e;s++)"k"===t.BO[s].AF&&t.o[t.BO[s].BF]&&t.o[t.BO[s].BF].values&&(a=ZC.BQ(a,t.o[t.BO[s].BF].values.length));for(s=0,e=t.B0.A3.length;s<e;s++)null!==ZC._n_(t.o.series[s])&&t.o.series[s].values&&(a=ZC.BQ(a,t.o.series[s].values.length));return a},ZC.JL.prototype.UC=function(){var s,e=this;if(e.HG&&"full"!==e.HG.type)for(var t=e.A38(),a=0,r=e.BO.length;a<r;a++)"k"===e.BO[a].AF&&(e.BO[a].CL?(s=(e.BO[a].F-e.BO[a].A9-e.BO[a].BU)/ZC._i_(e.HG["max-ticks"]),e.BO[a].OO=ZC.BQ(0,e.BO[a].F-t*s)):(s=(e.BO[a].I-e.BO[a].A9-e.BO[a].BU)/ZC._i_(e.HG["max-ticks"]),e.BO[a].OO=ZC.BQ(0,e.BO[a].I-t*s)),ZC._b_(e.HG["adjust-scale"])&&(e.BO[a].OO=0),e.BO[a].A9=e.BO[a].A42+e.BO[a].OO,e.A.E[e.K+"-"+e.BO[a].BF+"-feed-offset-start"]=e.BO[a].A9,e.BO[a].W=ZC.BQ(0,e.BO[a].A1-e.HG["max-ticks"]+1),e.BO[a].J4())},ZC.JL.prototype.AC2=function(){var s=this,H,MR,ws;if(s.E["from-api"]&&(window.clearTimeout(ZC.REFRESH_TICK[s.K]),delete s.E["from-api"]),s.HG){var OS=ZC._i_(s.HG.interval);if(OS=OS>=50?OS:1e3*OS,"full"===s.HG.type)"http"===s.HG.transport?ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){s.A.N8(s),ZC.ZS(function(){s.A.load(s.K,s.A9G||s.HG.url)})},OS):"websockets"===s.HG.transport&&ZC.websockets&&(s.G.SD[s.K]?"pull"===s.HG.method&&(ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){s.G.SD[s.K].send("zingchart.getdata")},OS)):(ws=new WebSocket(s.HG.url,"zingchart"),ws.onopen=function(){ws.send("zingchart."+s.HG.type),ws.send("zingchart."+s.HG.method),ws.send("zingchart.getdata")},ws.onmessage=function(e){"ready"===s.M6&&(s.A.N8(s),s.M6="full",ZC.ZS(function(){zingchart.exec(s.A.K,"setdata",{graphid:s.K,data:e.data,softclear:!0})}))},s.G.SD[s.K]=ws));else if("feed"===s.HG.type&&null!==ZC._n_(s.HG.url)){if(null!==ZC._n_(s.HG.curtain)){var OH=s.BW("k");if(OH.length>0&&(ZC.Q.EW(s.K+"-curtain-t"),OH[0].OO>0)){var M0=new ZC.DP(s);s.A.B6.load(M0.o,"("+s.AF+").refresh.curtain"),M0.append(s.HG.curtain),M0.parse(),M0.AO&&(OH[0].CL&&M0.F<=OH[0].OO||!OH[0].CL&&M0.I<=OH[0].OO)&&(M0.K=s.K+"-curtain-t",M0.IO=ZC.AM(s.A.K+"-text-top"),OH[0].CL?(M0.F>OH[0].OO&&(M0.AN="",M0.parse()),M0.iX=s.P.iX,M0.iY=OH[0].AW?s.P.iY:s.P.iY+s.P.F-OH[0].OO,M0.I=s.P.I,M0.F=OH[0].OO):(M0.I>OH[0].OO&&(M0.AN="",M0.parse()),M0.iX=OH[0].AW?s.P.iX+s.P.I-OH[0].OO:s.P.iX,M0.iY=s.P.iY,M0.I=OH[0].OO,M0.F=s.P.F),M0.Z=M0.C7=ZC.AM(s.K+"-scales-ml-0-c"),M0.paint())}}var A13=s.HG.transport,A44=ZC._i_(s.HG["reset-timeout"]),A55=ZC._i_(s.HG["stop-timeout"]),A9O=ZC._b_(s.HG.storage),A0I=!0;null!==ZC._n_(s.HG["preserve-data"])&&(A0I=ZC._b_(s.HG["preserve-data"]));var A5O=function(KJ){for(var TW=eval("("+KJ+")"),i,A6,A8Q=TW instanceof Array?TW:[TW],r=0,rLen=A8Q.length;r<rLen;r++){var DL=A8Q[r];for(i=0,A6=s.BO.length;i<A6;i++)if("k"===s.BO[i].AF){var BF=s.BO[i].BF;null!==ZC._n_(DL[BF])&&null!==ZC._n_(s.o[BF])&&(null===ZC._n_(s.o[BF].values)&&(s.G.o.graphset[s.L][BF].values=[],s.o[BF].values=[]),s.o[BF].values.push(DL[BF]),!A0I&&s.o[BF].values.length>ZC._i_(s.HG["max-ticks"])&&s.o[BF].values.splice(0,1),s.G.o.graphset[s.L][BF].values.push(DL[BF]),(s.o[BF].values.length>A44||1===s.MH[1])&&(s.G.o.graphset[s.L][BF].values=[],s.o[BF].values=[],s.G.E["graph"+s.L+".zoom"]&&(s.G.E["graph"+s.L+".zoom"].xmin=null,s.G.E["graph"+s.L+".zoom"].xmax=null),s.HM&&(s.HM.unbind(),ZC.Q.IV(ZC.AM(s.K+"-scroll-x-c"),s.A.AD,s.iX,s.iY,s.I,s.F,s.K),ZC.A5("#"+s.K+"-scroll-x-handle").remove(),ZC.A5("#"+s.K+"-scroll-x-bar").remove()),s.HV&&(s.HV.unbind(),ZC.Q.IV(ZC.AM(s.K+"-scroll-y-c"),s.A.AD,s.iX,s.iY,s.I,s.F,s.K),ZC.A5("#"+s.K+"-scroll-y-handle").remove(),ZC.A5("#"+s.K+"-scroll-y-bar").remove())),ZC.webstorage&&A9O&&ZC.AP.storage.push("zingchart.scale."+s.K+"."+BF,""+DL[BF]))}for(i=0,A6=s.B0.A3.length;i<A6;i++)if(null!==ZC._n_(s.o.series[i])){var A3T=null;null!==ZC._n_(H=DL["plot-"+i])?A3T=H:null!==ZC._n_(H=DL["plot"+i])&&(A3T=H),"xy"===s.AJ.layout||"yx"===s.AJ.layout?(s.G.o.graphset[s.L].series[i].values.push(A3T),!A0I&&s.G.o.graphset[s.L].series[i].values.length>ZC._i_(s.HG["max-ticks"])&&s.G.o.graphset[s.L].series[i].values.splice(0,1)):s.G.o.graphset[s.L].series[i].values=[A3T],ZC.webstorage&&A9O&&(H=DL["plot"+i],"object"==typeof H&&(H=H.join("###")),ZC.AP.storage.push("zingchart.plot."+s.K+".plot"+i,""+H)),(s.o.series[i].values.length>A44||1===s.MH[1])&&(ZC.AP.C0("feed_clear",s.A,s.H0(),DL),s.G.o.graphset[s.L].series[i].values=[])}MR=s.A38()}("ready"===s.M6||s.GF)&&(1===s.MH[1]&&(s.MH[1]=0),(MR<=A55||0===A55)&&(s.M6="feed",ZC.ZS(function(){ZC.AM(s.A.K+"-main")&&(ZC.AP.C0("feed_step",s.G,s.H0(),s.o),s.parse(),s.clear(!0),s.UC(),s.paint(!0,!0))})))};if("http"===A13||"js"===A13){var EA=s.HG.url;ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){if(1===s.MH[0]||1===s.MH[1])if(s.A.N8(s),"http"===A13){var EX=["query-string"===s.A.N5?"zcrandom="+Math.random():"",zingchart.ZCOUTPUT?"zcoutput="+s.G.AD:""].join("&");ZC.A5.ajax({type:"GET",url:EA,beforeSend:function(e){s.A.RU.data||"http-headers"!==s.A.N5||e.setRequestHeader("If-Modified-Since","Thu, 01 Jan 1970 00:00:00 GMT")},data:EX,dataType:"text",error:function(){},success:function(s){A5O(s)}})}else if("()"===EA.substring(EA.length-2)||"javascript:"===EA.substring(0,11))try{var EC=EA.replace("javascript:","").replace("()","");eval(EC)&&eval(EC).call(s,function(s){A5O(s)},s.H0())}catch(e){}},OS)}else"websockets"===A13&&ZC.websockets&&(s.G.SD[s.K]?"pull"===s.HG.method&&(ZC.REFRESH_TICK[s.K]=window.setTimeout(function(){s.G.SD[s.K].send("zingchart.getdata")},OS)):(ws=new WebSocket(s.HG.url,"zingchart"),ws.onopen=function(){ws.send("zingchart."+s.HG.type),ws.send("zingchart."+s.HG.method),ws.send("zingchart.startfeed"),"pull"===s.HG.method&&ws.send("zingchart.getdata")},ws.onmessage=function(e){1!==s.MH[0]&&1!==s.MH[1]||A5O(e.data)},s.G.SD[s.K]=ws))}}},zingchart.ABQ=function(s,e,t){var a;document.getElementById("zc-fullscreen")&&(s="zc-fullscreen"),"string"==typeof(t=t||{})&&(t=JSON.parse(t));var r=zingchart.getLoader(s);if(r){var n=r.CA(t.graphid);switch(e){case"clearfeed":n.MH[1]=1,0===n.MH[0]&&ZC.ZS(function(){n.parse(),n.clear(!0),n.UC(),n.paint(!0,!0)});break;case"getinterval":return n.HG.interval;case"setinterval":ZC.AP.C0("feed_interval_modify",r,n.H0()),n.o.refresh=n.o.refresh||{},n.o.refresh.interval=t.interval||1;break;case"stopfeed":1===n.MH[0]&&(ZC.AP.C0("feed_stop",r,n.H0()),n.MH[0]=0,null!==ZC._n_(a=r.SD[n.K])&&a.send("zingchart.stopfeed"));break;case"startfeed":0===n.MH[0]&&(ZC.AP.C0("feed_start",r,n.H0()),n.MH[0]=1,null!==ZC._n_(a=r.SD[n.K])&&a.send("zingchart.startfeed"),ZC.ZS(function(){n.parse(),n.clear(!0),n.UC(),n.paint(!0,!0)}))}}return null};